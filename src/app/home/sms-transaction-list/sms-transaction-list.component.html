<ion-content class="ion-padding ion-text-center" *ngIf="!permissionFlag">
  <ion-title class="ion-padding-top ion-margin-top">
    This Feature requires <br />
    SMS Access
    <br />
    <ion-button class="ion-padding" (click)="requestPermission()">
      Request Permission
    </ion-button>
  </ion-title>
</ion-content>

<ion-content *ngIf="permissionFlag">
  <ion-list mode="ios" inset="true">
    <ion-list-header lines="full" class="ion-padding-bottom">
      <ion-label>Transactions</ion-label>
      <ion-toggle
        value="credit"
        (ionChange)="toggleStateChange($event)"
        [enableOnOffLabels]="true"
        color="success"
        style="margin-bottom: 8px"
      ></ion-toggle>
      <ion-toggle
        value="debit"
        (ionChange)="toggleStateChange($event)"
        class="ion-margin-horizontal"
        [enableOnOffLabels]="true"
        color="danger"
        style="margin-bottom: 8px"
      ></ion-toggle>
    </ion-list-header>

    <ion-item
      [button]="true"
      *ngFor="let transactionLog of transactionQueue"
      [id]="transactionLog.id"
    >
      <ion-icon
        slot="start"
        size="large"
        [name]="transactionLog?.type === 0 ? 'add-circle' : 'remove-circle'"
        [color]="transactionLog?.type === 0 ? 'success' : 'danger'"
      ></ion-icon>
      <ion-label [color]="transactionLog?.type === 0 ? 'success' : 'danger'">
        <h2>{{ transactionLog?.amount }}</h2>
        <!-- <small>{{dateConverter(transactionLog?.createdAt)}}</small> -->
      </ion-label>

      <ion-label slot="end" style="display: contents">
        <ion-label
          slot="start"
          style="
            overflow: hidden;
            text-overflow: ellipsis !important;
            white-space: nowrap;
            max-width: 35%;
            text-align: end;
          "
        >
          <h2>
            <!-- {{getTransactionCategory(transactionLog?.category)}} -->
          </h2>
          <!-- <small
            >{{getTransactionType(transactionLog?.type)}} / {{
            getTransactionMode(transactionLog?.mode)}}</small
          > -->
        </ion-label>

        <ion-label
          style="max-width: 25%"
          slot="end"
          class="ion-text-right"
          [color]="transactionLog?.type === 1 ? 'success' : 'danger'"
        >
        </ion-label>
      </ion-label>
    </ion-item>
  </ion-list>
</ion-content>
<p>smsList:{{ smsList | json }}</p>
